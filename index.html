<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"="width=device-width, initial-scale=1.0">
    <title>ShieldHer - The Invisible Guardian That Acts Before Danger Happens ~ BY DAKSH JAIN</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.6.1/socket.io.min.js"></script>
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.js"></script>
    <link href="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.css" rel="stylesheet" />
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: #0a0a0f;
            color: #fff;
            overflow-x: hidden;
        }
        
        .gradient-bg {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(ellipse at top, #1e1b4b 0%, #0a0a0f 50%);
            z-index: -1;
        }
        
        .animated-gradient {
            position: absolute;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, 
                rgba(139, 92, 246, 0.1) 0%, 
                rgba(59, 130, 246, 0.1) 25%, 
                rgba(16, 185, 129, 0.1) 50%, 
                rgba(139, 92, 246, 0.1) 100%);
            animation: gradientMove 15s ease infinite;
        }
        
        @keyframes gradientMove {
            0%, 100% { transform: translate(-25%, -25%); }
            50% { transform: translate(-50%, -50%); }
        }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 2rem;
            transition: all 0.3s ease;
        }
        
        .glass-card:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(139, 92, 246, 0.3);
            transform: translateY(-5px);
        }
        
        .radar-scan {
            position: absolute;
            width: 600px;
            height: 600px;
            border: 2px solid rgba(139, 92, 246, 0.2);
            border-radius: 50%;
            animation: radarPulse 3s ease-out infinite;
        }
        
        @keyframes radarPulse {
            0% {
                transform: scale(0.5);
                opacity: 1;
            }
            100% {
                transform: scale(1.5);
                opacity: 0;
            }
        }
        
        .threat-meter {
            width: 300px;
            height: 300px;
            position: relative;
        }
        
        .meter-circle {
            stroke-dasharray: 785;
            stroke-dashoffset: 785;
            transition: stroke-dashoffset 1s ease, stroke 0.5s ease;
        }
        
        .pulse-glow {
            animation: pulseGlow 2s ease-in-out infinite;
        }
        
        @keyframes pulseGlow {
            0%, 100% { box-shadow: 0 0 20px rgba(139, 92, 246, 0.5); }
            50% { box-shadow: 0 0 40px rgba(139, 92, 246, 0.8); }
        }
        
        .danger-pulse {
            animation: dangerPulse 1s ease-in-out infinite;
        }
        
        @keyframes dangerPulse {
            0%, 100% { 
                box-shadow: 0 0 30px rgba(239, 68, 68, 0.6);
                border-color: rgba(239, 68, 68, 0.6);
            }
            50% { 
                box-shadow: 0 0 60px rgba(239, 68, 68, 1);
                border-color: rgba(239, 68, 68, 1);
            }
        }
        
        .alert-timeline-item {
            opacity: 0;
            transform: translateX(-20px);
            animation: slideInAlert 0.5s ease forwards;
        }
        
        @keyframes slideInAlert {
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        .hidden {
            display: none;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #8B5CF6 0%, #3B82F6 100%);
            padding: 1rem 2rem;
            border-radius: 12px;
            font-weight: 600;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            color: white;
        }
        
        .btn-primary:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(139, 92, 246, 0.4);
        }
        
        .btn-danger {
            background: linear-gradient(135deg, #EF4444 0%, #DC2626 100%);
        }
        
        .btn-danger:hover {
            box-shadow: 0 10px 30px rgba(239, 68, 68, 0.4);
        }
        
        .event-btn {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            color: white;
            font-size: 0.9rem;
        }
        
        .event-btn:hover {
            background: rgba(139, 92, 246, 0.2);
            border-color: rgba(139, 92, 246, 0.5);
        }
        
        .stat-number {
            font-size: 3rem;
            font-weight: 800;
            background: linear-gradient(135deg, #8B5CF6 0%, #3B82F6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .feature-icon {
            width: 60px;
            height: 60px;
            border-radius: 12px;
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.2) 0%, rgba(59, 130, 246, 0.2) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1rem;
        }
        
        #map {
            width: 100%;
            height: 400px;
            border-radius: 12px;
        }
        
        .nav-link {
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: all 0.2s ease;
        }
        
        .nav-link:hover {
            color: #fff;
            background: rgba(255, 255, 255, 0.1);
        }
        
        .logo-text {
            font-size: 1.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, #8B5CF6 0%, #3B82F6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
    </style>
</head>
<body>
    <div class="gradient-bg">
        <div class="animated-gradient"></div>
    </div>

    <!-- Navigation -->
    <nav class="fixed top-0 left-0 right-0 z-50 backdrop-filter backdrop-blur-lg border-b border-gray-800">
        <div class="max-w-7xl mx-auto px-6 py-4 flex items-center justify-between">
            <div class="logo-text">üõ°Ô∏è ShieldHer</div>
            <div class="flex gap-6 items-center">
                <a href="#features" class="nav-link">Features</a>
                <a href="#how-it-works" class="nav-link">How It Works</a>
                <a href="#demo" class="nav-link">Live Demo</a>
                <button onclick="showDashboard()" class="btn-primary">Try Dashboard</button>
            </div>
        </div>
    </nav>

    <!-- Landing Page -->
    <div id="landing-page">
        <!-- Hero Section -->
        <section class="min-h-screen flex items-center justify-center relative pt-20">
            <div class="radar-scan"></div>
            <div class="radar-scan" style="animation-delay: 1s;"></div>
            <div class="radar-scan" style="animation-delay: 2s;"></div>
            
            <div class="max-w-6xl mx-auto px-6 text-center relative z-10">
                <div class="inline-block mb-6 px-4 py-2 rounded-full bg-purple-900/30 border border-purple-500/30 text-purple-300 text-sm font-medium">
                    üöÄ AI-Powered Preventive Safety Ecosystem
                </div>
                <h1 class="text-7xl font-black mb-6 leading-tight">
                    Protection Shouldn't<br/>Require <span class="bg-gradient-to-r from-purple-400 to-blue-400 bg-clip-text text-transparent">Permission</span>
                </h1>
                <p class="text-2xl text-gray-400 mb-12 max-w-3xl mx-auto">
                    AI that detects danger <span class="text-purple-400 font-semibold">before</span> you ask for help.<br/>
                    No buttons. No delays. Just automatic protection.
                </p>
                <div class="flex gap-4 justify-center">
                    <button onclick="showDashboard()" class="btn-primary text-lg px-8 py-4">
                        Try Live Demo ‚Üí
                    </button>
                    <button onclick="scrollToSection('how-it-works')" class="btn-primary text-lg px-8 py-4" style="background: rgba(255,255,255,0.1);">
                        Learn More
                    </button>
                </div>
                
                <!-- Stats -->
                <div class="grid grid-cols-3 gap-8 mt-20 max-w-4xl mx-auto">
                    <div class="glass-card">
                        <div class="stat-number">98%</div>
                        <div class="text-gray-400">Detection Accuracy</div>
                    </div>
                    <div class="glass-card">
                        <div class="stat-number">&lt;2s</div>
                        <div class="text-gray-400">Response Time</div>
                    </div>
                    <div class="glass-card">
                        <div class="stat-number">24/7</div>
                        <div class="text-gray-400">Auto Protection</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Problem vs Solution -->
        <section class="py-20 px-6">
            <div class="max-w-6xl mx-auto">
                <h2 class="text-5xl font-bold text-center mb-16">Why Existing Apps <span class="text-red-400">Fail</span></h2>
                <div class="grid md:grid-cols-2 gap-8">
                    <div class="glass-card border-red-500/30">
                        <h3 class="text-2xl font-bold mb-4 text-red-400">‚ùå Traditional Safety Apps</h3>
                        <ul class="space-y-3 text-gray-400">
                            <li>‚Ä¢ Require unlocking phone</li>
                            <li>‚Ä¢ Need to press panic button</li>
                            <li>‚Ä¢ Reactive, not preventive</li>
                            <li>‚Ä¢ Victims often can't reach phone</li>
                            <li>‚Ä¢ No automatic detection</li>
                            <li>‚Ä¢ Manual guardian alerts</li>
                        </ul>
                    </div>
                    <div class="glass-card border-green-500/30">
                        <h3 class="text-2xl font-bold mb-4 text-green-400">‚úì ShieldHer Intelligence</h3>
                        <ul class="space-y-3 text-gray-400">
                            <li>‚Ä¢ Works when phone is locked</li>
                            <li>‚Ä¢ Zero touch required</li>
                            <li>‚Ä¢ Predicts danger before it happens</li>
                            <li>‚Ä¢ Multi-sensor AI detection</li>
                            <li>‚Ä¢ Automatic threat response</li>
                            <li>‚Ä¢ Instant guardian notifications</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- How It Works -->
        <section id="how-it-works" class="py-20 px-6">
            <div class="max-w-6xl mx-auto">
                <h2 class="text-5xl font-bold text-center mb-16">How <span class="bg-gradient-to-r from-purple-400 to-blue-400 bg-clip-text text-transparent">ShieldHer</span> Works</h2>
                <div class="grid md:grid-cols-5 gap-6">
                    <div class="glass-card text-center">
                        <div class="feature-icon mx-auto">
                            <span class="text-3xl">üëÅÔ∏è</span>
                        </div>
                        <h3 class="text-xl font-bold mb-2">Monitor</h3>
                        <p class="text-sm text-gray-400">Continuous sensor & behavior tracking</p>
                    </div>
                    <div class="glass-card text-center">
                        <div class="feature-icon mx-auto">
                            <span class="text-3xl">üéØ</span>
                        </div>
                        <h3 class="text-xl font-bold mb-2">Detect</h3>
                        <p class="text-sm text-gray-400">Voice, motion & location anomalies</p>
                    </div>
                    <div class="glass-card text-center">
                        <div class="feature-icon mx-auto">
                            <span class="text-3xl">üß†</span>
                        </div>
                        <h3 class="text-xl font-bold mb-2">Predict</h3>
                        <p class="text-sm text-gray-400">AI calculates real-time threat score</p>
                    </div>
                    <div class="glass-card text-center">
                        <div class="feature-icon mx-auto">
                            <span class="text-3xl">üö®</span>
                        </div>
                        <h3 class="text-xl font-bold mb-2">Alert</h3>
                        <p class="text-sm text-gray-400">Auto notify guardians & authorities</p>
                    </div>
                    <div class="glass-card text-center">
                        <div class="feature-icon mx-auto">
                            <span class="text-3xl">üìç</span>
                        </div>
                        <h3 class="text-xl font-bold mb-2">Track</h3>
                        <p class="text-sm text-gray-400">Live location & evidence recording</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Features -->
        <section id="features" class="py-20 px-6">
            <div class="max-w-6xl mx-auto">
                <h2 class="text-5xl font-bold text-center mb-16">Core Features</h2>
                <div class="grid md:grid-cols-3 gap-8">
                    <div class="glass-card">
                        <div class="feature-icon">
                            <span class="text-3xl">üîí</span>
                        </div>
                        <h3 class="text-2xl font-bold mb-3">Zero Touch Protection</h3>
                        <p class="text-gray-400">Works automatically even when phone is locked. No manual intervention required during emergencies.</p>
                    </div>
                    <div class="glass-card">
                        <div class="feature-icon">
                            <span class="text-3xl">üé§</span>
                        </div>
                        <h3 class="text-2xl font-bold mb-3">Voice Detection</h3>
                        <p class="text-gray-400">Identifies screams, distress keywords, and panic breathing patterns in real-time.</p>
                    </div>
                    <div class="glass-card">
                        <div class="feature-icon">
                            <span class="text-3xl">üì±</span>
                        </div>
                        <h3 class="text-2xl font-bold mb-3">Motion Analysis</h3>
                        <p class="text-gray-400">Detects falls, phone snatching, running, and struggle patterns using accelerometer data.</p>
                    </div>
                    <div class="glass-card">
                        <div class="feature-icon">
                            <span class="text-3xl">üó∫Ô∏è</span>
                        </div>
                        <h3 class="text-2xl font-bold mb-3">Behavioral AI</h3>
                        <p class="text-gray-400">Learns your routes and alerts on deviations, unsafe zones, and unusual stops.</p>
                    </div>
                    <div class="glass-card">
                        <div class="feature-icon">
                            <span class="text-3xl">üé•</span>
                        </div>
                        <h3 class="text-2xl font-bold mb-3">Evidence Locker</h3>
                        <p class="text-gray-400">Automatic recording and secure cloud upload of audio, video, and sensor data.</p>
                    </div>
                    <div class="glass-card">
                        <div class="feature-icon">
                            <span class="text-3xl">üì°</span>
                        </div>
                        <h3 class="text-2xl font-bold mb-3">Offline Mode</h3>
                        <p class="text-gray-400">AI continues monitoring even without internet, syncs when connection restored.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- CTA -->
        <section class="py-20 px-6">
            <div class="max-w-4xl mx-auto text-center glass-card pulse-glow">
                <h2 class="text-4xl font-bold mb-6">Experience The Future of Safety</h2>
                <p class="text-xl text-gray-400 mb-8">See how AI can protect you before danger strikes</p>
                <button onclick="showDashboard()" class="btn-primary text-xl px-12 py-5">
                    Launch Live Dashboard ‚Üí
                </button>
            </div>
        </section>
    </div>

    <!-- Dashboard -->
    <div id="dashboard" class="hidden min-h-screen pt-24 pb-12 px-6">
        <div class="max-w-7xl mx-auto">
            <!-- Header -->
            <div class="flex justify-between items-center mb-8">
                <div>
                    <h1 class="text-4xl font-bold mb-2">Safety Dashboard</h1>
                    <p class="text-gray-400">Real-time AI protection monitoring</p>
                </div>
                <div class="flex gap-4">
                    <button onclick="showLanding()" class="event-btn">‚Üê Back to Home</button>
                    <button onclick="toggleProtection()" id="protection-toggle" class="btn-primary">
                        üõ°Ô∏è Auto-Protect: ON
                    </button>
                </div>
            </div>

            <div class="grid lg:grid-cols-3 gap-6">
                <!-- Left Column: Threat Meter & AI Engine -->
                <div class="space-y-6">
                    <!-- Threat Meter -->
                    <div class="glass-card text-center" id="threat-meter-card">
                        <h3 class="text-xl font-bold mb-4">Live Threat Level</h3>
                        <div class="threat-meter mx-auto mb-4">
                            <svg width="300" height="300" viewBox="0 0 300 300">
                                <circle cx="150" cy="150" r="125" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="20"/>
                                <circle id="meter-progress" class="meter-circle" cx="150" cy="150" r="125" fill="none" stroke="#10B981" stroke-width="20" stroke-linecap="round" transform="rotate(-90 150 150)"/>
                                <text x="150" y="140" text-anchor="middle" font-size="48" font-weight="800" fill="#fff" id="threat-score">20</text>
                                <text x="150" y="170" text-anchor="middle" font-size="18" fill="#9CA3AF" id="threat-level">SAFE</text>
                            </svg>
                        </div>
                        <div class="flex justify-between text-sm text-gray-400 px-8">
                            <span>0 Safe</span>
                            <span>100 Critical</span>
                        </div>
                    </div>

                    <!-- AI Reasoning -->
                    <div class="glass-card">
                        <h3 class="text-xl font-bold mb-4">üß† AI Reasoning</h3>
                        <div id="ai-reasoning" class="space-y-2 text-sm text-gray-400">
                            <p>‚Ä¢ Base risk level: 20/100</p>
                            <p>‚Ä¢ Location: Safe zone</p>
                            <p>‚Ä¢ Time: Normal hours</p>
                            <p>‚Ä¢ Behavior: Standard pattern</p>
                        </div>
                    </div>
                </div>

                <!-- Middle Column: Map & Events -->
                <div class="space-y-6">
                    <!-- Live Map -->
                    <div class="glass-card">
                        <h3 class="text-xl font-bold mb-4">üìç Live Tracking</h3>
                        <div id="map"></div>
                        <div class="mt-4 grid grid-cols-2 gap-2 text-sm">
                            <div class="bg-black/30 p-2 rounded">
                                <span class="text-gray-400">Lat:</span> <span id="lat">28.6139</span>
                            </div>
                            <div class="bg-black/30 p-2 rounded">
                                <span class="text-gray-400">Lng:</span> <span id="lng">77.2090</span>
                            </div>
                        </div>
                    </div>

                    <!-- Event Simulator -->
                    <div class="glass-card">
                        <h3 class="text-xl font-bold mb-4">üéØ Detection Simulator</h3>
                        
                        <div class="mb-4">
                            <h4 class="text-sm font-semibold mb-2 text-purple-400">VOICE EVENTS</h4>
                            <div class="grid grid-cols-2 gap-2">
                                <button onclick="simulateEvent('scream')" class="event-btn">üò± Scream</button>
                                <button onclick="simulateEvent('help')" class="event-btn">üÜò Help Keyword</button>
                                <button onclick="simulateEvent('breathing')" class="event-btn">üò∞ Panic Breathing</button>
                                <button onclick="simulateEvent('silence')" class="event-btn">ü§´ Forced Silence</button>
                            </div>
                        </div>

                        <div class="mb-4">
                            <h4 class="text-sm font-semibold mb-2 text-blue-400">MOTION EVENTS</h4>
                            <div class="grid grid-cols-2 gap-2">
                                <button onclick="simulateEvent('fall')" class="event-btn">ü§ï Sudden Fall</button>
                                <button onclick="simulateEvent('snatch')" class="event-btn">üì± Phone Snatched</button>
                                <button onclick="simulateEvent('running')" class="event-btn">üèÉ Running Detected</button>
                                <button onclick="simulateEvent('struggle')" class="event-btn">‚öîÔ∏è Struggle Pattern</button>
                            </div>
                        </div>

                        <div>
                            <h4 class="text-sm font-semibold mb-2 text-green-400">BEHAVIOR EVENTS</h4>
                            <div class="grid grid-cols-2 gap-2">
                                <button onclick="simulateEvent('deviation')" class="event-btn">üó∫Ô∏è Route Deviation</button>
                                <button onclick="simulateEvent('unsafe-zone')" class="event-btn">‚ö†Ô∏è Unsafe Zone</button>
                                <button onclick="simulateEvent('unusual-stop')" class="event-btn">üõë Unusual Stop</button>
                                <button onclick="simulateEvent('night-travel')" class="event-btn">üåô Night Travel</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right Column: Alerts & Timeline -->
                <div class="space-y-6">
                    <!-- Emergency Actions -->
                    <div class="glass-card" id="emergency-panel">
                        <h3 class="text-xl font-bold mb-4">üö® Emergency Automation</h3>
                        <div class="space-y-3 text-sm" id="emergency-actions">
                            <div class="flex items-center gap-3 p-2 bg-black/30 rounded">
                                <span class="text-2xl">üì±</span>
                                <div class="flex-1">
                                    <div class="font-semibold">Guardian Alert</div>
                                    <div class="text-gray-500">Standby</div>
                                </div>
                            </div>
                            <div class="flex items-center gap-3 p-2 bg-black/30 rounded">
                                <span class="text-2xl">üöì</span>
                                <div class="flex-1">
                                    <div class="font-semibold">Emergency Services</div>
                                    <div class="text-gray-500">Standby</div>
                                </div>
                            </div>
                            <div class="flex items-center gap-3 p-2 bg-black/30 rounded">
                                <span class="text-2xl">üé•</span>
                                <div class="flex-1">
                                    <div class="font-semibold">Evidence Recording</div>
                                    <div class="text-gray-500">Ready</div>
                                </div>
                            </div>
                            <div class="flex items-center gap-3 p-2 bg-black/30 rounded">
                                <span class="text-2xl">üìç</span>
                                <div class="flex-1">
                                    <div class="font-semibold">Live Tracking</div>
                                    <div class="text-gray-500">Active</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Alert Timeline -->
                    <div class="glass-card">
                        <h3 class="text-xl font-bold mb-4">üìã Detection Timeline</h3>
                        <div id="alert-timeline" class="space-y-3 max-h-96 overflow-y-auto">
                            <div class="text-sm text-gray-500 text-center py-4">
                                No events detected yet. System monitoring...
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // State
        let threatScore = 20;
        let isProtectionOn = true;
        let alertCount = 0;
        let eventHistory = [];
        let map = null;
        let userMarker = null;
        let currentLocation = { lat: 28.6139, lng: 77.2090 };

        // Initialize
        function init() {
            // Note: Replace with your Mapbox token
            mapboxgl.accessToken = 'pk.eyJ1IjoiZXhhbXBsZSIsImEiOiJjbGV4YW1wbGUifQ.example';
            
            try {
                map = new mapboxgl.Map({
                    container: 'map',
                    style: 'mapbox://styles/mapbox/dark-v11',
                    center: [currentLocation.lng, currentLocation.lat],
                    zoom: 13
                });

                userMarker = new mapboxgl.Marker({ color: '#8B5CF6' })
                    .setLngLat([currentLocation.lng, currentLocation.lat])
                    .addTo(map);
            } catch (e) {
                console.log('Map initialization requires valid Mapbox token');
            }
        }

        // Navigation
        function showDashboard() {
            document.getElementById('landing-page').classList.add('hidden');
            document.getElementById('dashboard').classList.remove('hidden');
            if (!map) init();
        }

        function showLanding() {
            document.getElementById('dashboard').classList.add('hidden');
            document.getElementById('landing-page').classList.remove('hidden');
        }

        function scrollToSection(id) {
            document.getElementById(id).scrollIntoView({ behavior: 'smooth' });
        }

        function toggleProtection() {
            isProtectionOn = !isProtectionOn;
            const btn = document.getElementById('protection-toggle');
            if (isProtectionOn) {
                btn.textContent = 'üõ°Ô∏è Auto-Protect: ON';
                btn.classList.remove('btn-danger');
                btn.classList.add('btn-primary');
            } else {
                btn.textContent = 'üõ°Ô∏è Auto-Protect: OFF';
                btn.classList.remove('btn-primary');
                btn.classList.add('btn-danger');
            }
        }

        // Event Simulation
        const eventImpact = {
            'scream': { score: 25, level: 'high', icon: 'üò±', text: 'Scream detected' },
            'help': { score: 30, level: 'critical', icon: 'üÜò', text: 'Distress keyword: "HELP"' },
            'breathing': { score: 15, level: 'medium', icon: 'üò∞', text: 'Panic breathing pattern' },
            'silence': { score: 20, level: 'high', icon: 'ü§´', text: 'Forced silence detected' },
            'fall': { score: 35, level: 'critical', icon: 'ü§ï', text: 'Sudden fall detected' },
            'snatch': { score: 40, level: 'critical', icon: 'üì±', text: 'Phone snatched - high acceleration' },
            'running': { score: 20, level: 'medium', icon: 'üèÉ', text: 'Running pattern detected' },
            'struggle': { score: 30, level: 'high', icon: '‚öîÔ∏è', text: 'Struggle movements detected' },
            'deviation': { score: 15, level: 'medium', icon: 'üó∫Ô∏è', text: 'Route deviation from normal path' },
            'unsafe-zone': { score: 25, level: 'high', icon: '‚ö†Ô∏è', text: 'Entered high-risk zone' },
            'unusual-stop': { score: 12, level: 'low', icon: 'üõë', text: 'Unusual stop in low-crowd area' },
            'night-travel': { score: 18, level: 'medium', icon: 'üåô', text: 'Night travel detected' }
        };

        function simulateEvent(eventType) {
            if (!isProtectionOn) {
                alert('Auto-Protection is OFF. Turn it on to simulate events.');
                return;
            }

            const event = eventImpact[eventType];
            threatScore = Math.min(100, threatScore + event.score);
            
            updateThreatMeter();
            addToTimeline(event);
            updateAIReasoning(event);
            
            if (threatScore >= 60) {
                triggerEmergencyProtocol();
            }
        }

        function updateThreatMeter() {
            const scoreEl = document.getElementById('threat-score');
            const levelEl = document.getElementById('threat-level');
            const circle = document.getElementById('meter-progress');
            const card = document.getElementById('threat-meter-card');
            
            scoreEl.textContent = Math.round(threatScore);
            
            // Calculate circle progress
            const offset = 785 - (785 * threatScore) / 100;
            circle.style.strokeDashoffset = offset;
            
            // Update color and level
            card.classList.remove('danger-pulse');
            if (threatScore < 30) {
                circle.style.stroke = '#10B981';
                levelEl.textContent = 'SAFE';
                levelEl.style.color = '#10B981';
            } else if (threatScore < 50) {
                circle.style.stroke = '#F59E0B';
                levelEl.textContent = 'CAUTION';
                levelEl.style.color = '#F59E0B';
            } else if (threatScore < 75) {
                circle.style.stroke = '#F97316';
                levelEl.textContent = 'DANGER';
                levelEl.style.color = '#F97316';
            } else {
                circle.style.stroke = '#EF4444';
                levelEl.textContent = 'CRITICAL';
                levelEl.style.color = '#EF4444';
                card.classList.add('danger-pulse');
            }
        }

        function addToTimeline(event) {
            const timeline = document.getElementById('alert-timeline');
            const time = new Date().toLocaleTimeString();
            
            const item = document.createElement('div');
            item.className = 'alert-timeline-item flex items-start gap-3 p-3 bg-black/30 rounded-lg border-l-4';
            
            if (event.level === 'critical') {
                item.style.borderColor = '#EF4444';
            } else if (event.level === 'high') {
                item.style.borderColor = '#F97316';
            } else if (event.level === 'medium') {
                item.style.borderColor = '#F59E0B';
            } else {
                item.style.borderColor = '#10B981';
            }
            
            item.innerHTML = `
                <span class="text-2xl">${event.icon}</span>
                <div class="flex-1">
                    <div class="font-semibold">${event.text}</div>
                    <div class="text-xs text-gray-500">${time} ‚Ä¢ +${event.score} risk</div>
                </div>
            `;
            
            if (timeline.firstChild && timeline.firstChild.classList.contains('text-center')) {
                timeline.innerHTML = '';
            }
            
            timeline.insertBefore(item, timeline.firstChild);
            
            if (timeline.children.length > 10) {
                timeline.removeChild(timeline.lastChild);
            }
        }

        function updateAIReasoning(event) {
            const reasoning = document.getElementById('ai-reasoning');
            const time = new Date().toLocaleTimeString();
            
            reasoning.innerHTML = `
                <p>‚Ä¢ Current threat score: ${Math.round(threatScore)}/100</p>
                <p>‚Ä¢ Last event: ${event.text}</p>
                <p>‚Ä¢ Risk increase: +${event.score} points</p>
                <p>‚Ä¢ Location: ${threatScore > 50 ? 'High-risk zone' : 'Monitored area'}</p>
                <p>‚Ä¢ Time: ${time}</p>
                <p>‚Ä¢ Crowd density: ${threatScore > 60 ? 'Low' : 'Moderate'}</p>
                <p>‚Ä¢ Pattern: ${threatScore > 70 ? 'Multiple anomalies detected' : 'Normal with deviation'}</p>
            `;
        }

        function triggerEmergencyProtocol() {
            const panel = document.getElementById('emergency-actions');
            panel.innerHTML = `
                <div class="flex items-center gap-3 p-2 bg-green-900/30 rounded border border-green-500">
                    <span class="text-2xl animate-pulse">üì±</span>
                    <div class="flex-1">
                        <div class="font-semibold text-green-400">Guardian Alert</div>
                        <div class="text-gray-300">SMS sent ‚Ä¢ Call initiated</div>
                    </div>
                </div>
                <div class="flex items-center gap-3 p-2 bg-green-900/30 rounded border border-green-500">
                    <span class="text-2xl animate-pulse">üöì</span>
                    <div class="flex-1">
                        <div class="font-semibold text-green-400">Emergency Services</div>
                        <div class="text-gray-300">Location shared ‚Ä¢ ETA 8 min</div>
                    </div>
                </div>
                <div class="flex items-center gap-3 p-2 bg-red-900/30 rounded border border-red-500">
                    <span class="text-2xl animate-pulse">üé•</span>
                    <div class="flex-1">
                        <div class="font-semibold text-red-400">Evidence Recording</div>
                        <div class="text-gray-300">Recording ‚Ä¢ Uploading to cloud</div>
                    </div>
                </div>
                <div class="flex items-center gap-3 p-2 bg-purple-900/30 rounded border border-purple-500">
                    <span class="text-2xl animate-pulse">üìç</span>
                    <div class="flex-1">
                        <div class="font-semibold text-purple-400">Live Tracking</div>
                        <div class="text-gray-300">Broadcasting location</div>
                    </div>
                </div>
            `;
        }

        // Auto-initialize on load
        window.addEventListener('load', () => {
            // Set initial threat meter
            updateThreatMeter();
        });
    </script>
</body>
</html>